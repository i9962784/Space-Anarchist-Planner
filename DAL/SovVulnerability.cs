using System;
using System.Collections.Generic;
using System.Linq;
using System.Text;
using System.Threading.Tasks;

namespace DAL
{
    public class SovVulnerability
    {
        private long _AllianceID;
        private string _AllianceName;
        private long _SystemID;
        private string _SystemName;
        private long _RegionID;
        private string _RegionName;
        private string _StructureType;
        private float _ADM;
        private DateTime _VulnerabilityStart;
        private DateTime _VulnerabilityEnd;
        private string _Reason;

        public long AllianceID
        {
            get { return _AllianceID; }
            set { _AllianceID = value; }
        }

        public string AllianceName
        {
            get { return _AllianceName; }
            set { _AllianceName = value; }
        }

        public long SystemID
        {
            get { return _SystemID; }
            set { _SystemID = value; }
        }

        public string SystemName
        {
            get { return _SystemName; }
            set { _SystemName = value; }
        }
        public long RegionID
        {
            get { return _RegionID; }
            set { _RegionID = value; }
        }

        public string RegionName
        {
            get { return _RegionName; }
            set { _RegionName = value; }
        }

        public string StructureType
        {
            get { return _StructureType; }
            set { _StructureType = value; }
        }

        public float ADM
        {
            get { return _ADM; }
            set { _ADM = value; }
        }

        public DateTime VulnerabilityStart
        {
            get { return _VulnerabilityStart; }
            set { _VulnerabilityStart = value; }
        }

        public DateTime VulnerabilityEnd
        {
            get { return _VulnerabilityEnd; }
            set { _VulnerabilityEnd = value; }
        }

        public string Reason
        {
            get { return _Reason; }
            set { _Reason = value; }
        }

        public SovVulnerability(eZet.EveLib.EveCrestModule.Models.Resources.SovStructureCollection.Structure SovStruct, string RegionNameValue, long RegionIDValue, string ReasonValue)
        {
            _ADM = SovStruct.VulnerabilityOccupancyLevel;
            _AllianceID = SovStruct.Alliance.Id;
            _AllianceName = SovStruct.Alliance.Name;
            _SystemID = SovStruct.SolarSystem.Id;
            _SystemName = SovStruct.SolarSystem.Name;
            _VulnerabilityStart = SovStruct.VulnerableStartTime;
            _VulnerabilityEnd = SovStruct.VulnerableEndTime;
            _StructureType = Convert.ToString(SovStruct.Type.Name);
            _RegionID = RegionIDValue;
            _RegionName = RegionNameValue;
            _Reason = ReasonValue;

        }
        public int MinutesToEvent()
        {
            TimeSpan ts = DateTime.Now - VulnerabilityStart;

            return (int)ts.TotalMinutes;
        }
    }
}
